{% extends 'estoque/base.html' %}

{% block content %}
  <h2>Login</h2>

  {% if erro %}
    <p style="color: red;">{{ erro }}</p>
  {% endif %}

  {% if messages %}
    {% for message in messages %}
      <p style="color: red;">{{ message }}</p>
    {% endfor %}
  {% endif %}

  <form method="post">
    {% csrf_token %}

    {# Verifica se 'next' está presente na requisição GET #}
    {% if request.GET.next %}
      <input type="hidden" name="next" value="{{ request.GET.next }}">
    {% endif %}

    <label for="username">Usuário:</label><br>
    <input type="text" name="username" required><br>
    
    <label for="password">Senha:</label><br>
    <input type="password" name="password" required><br><br>
    
    <button type="submit">Entrar</button>
  </form>
{% endblock %}
